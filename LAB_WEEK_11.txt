1. When a user takes a picture, that picture is stored in a path based on the givenURI. In which part of the code handles this? (Copy that part of the code as the answer)

Answer:
Code:
A. "takePictureLauncher =
    registerForActivityResult(ActivityResultContracts.TakePicture()) {
        providerFileManager.insertImageToStore(photoInfo)}"

Why ?
This defines the contract. by using "ActivityResultContracts.TakePicture()", we tell to android system that camera should save the image to URI (this specific location). Also its setup the callback that will be called after the image successfully taken and stored.

B. "takePictureLauncher.launch(info.uri)"

Why?
This more handles the execution. where its will give specific URI ("photoInfo?.uri")  to Camera systems. without this step, the contracts in Code B would not know where to save the file.

What make them related?
A. registerForActivityResult = Make the Contract (where its will save the image to the URI that will be given)
B. .launch(photoInfo?.uri)= Will fulfill the contracts by give the URI to Camera


2. In your FileInfo.kt, there are 5 attributes. On the first attribute, what does the URI refer to? And on the fourth attribute, what does relative Path refer to?

Answer:
- For first Attribute, URI refers to temporary storage location URI that generated by FileProvider before the file (video/picture) will be moved to MediaStore. So its the file location that temporary and safe. We need its because the camera application didn't have access directly to our internal storage private application. so its like access keys for Camera application.

- For fourth Attribute, relativePath refer to the folder name in public Storage Directoly where later the file (image/video) will be saved. in the code, this attribute ensure that files are neatly organized by type in the Gallery. so if take the pictures, its will goes to Pictures, and if its videos, its will goes to Movies.

3. Explain the chronological order from when a user takes a picture until the file is stored in the MediaStore.

Answer:
[1] User Interaction: the user clicks the "Photo" button in "MainActivity". where its will trigger the listener to checks the permission and calls the "openImageCapture()" function.

[2] Preparation: inside of the "openImageCapture()", its will call this "providerFileManager.generatePhotoUri()" where its will makes:
- Name files with timestamp "img_$time.jpg"
- Make the object files in external files directory
- Generate temporatry URI use Fileprovider ("fileHelper.getUriFromFile(file)")
- its will return "FileInfo" object with all info on top.

[3] Camera Execution: Stil on "openImageCapture()" function, its launch camera with target URI ("takePictureLauncher.launch(uri)"). where its will give URI target to Camera system also its start camera activity with "TakePicture" contract

[4] Camera Captures and saves: The user takes the picture. The camera application will save the image data directly to FileProvider URI (temporary file that created in preparation) as defined in contract.

[5] Callback execution: In "OnCreate" function, " ActivityResultContracts.TakePicture()" callback will be triggered and its will run/call this function "providerFileManager.insertImageToStore(photoInfo)"

[6] Initiate MediaStore: in "ProviderFileManager", in "InsertImageToStore" will call another function to "InsertToStore", where its will give information to its like Photo URI also content values of its

in inserToStore(), its does some of code:
- Create MediaStore entry -> "contentResolver.insert(contentUri, contentValues)" where its like make new record in MediaStore
- Get Permanent URI -> its get "insertedUri" that points to Mediastore location permanently
- Copies file data: its uses "IOUtils.copy(inputStream, outputStream)" to read image data from temporary file (input stream) and write it to new MediaStore Location (output stream)

[7] Final Storage: the image will be stored in MediaStore at path that already declared in "relativePath".

